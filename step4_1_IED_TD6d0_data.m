% Loads specific IED feature data from multiple subjects' files,
% collects them into a cell array IED6d0, and saves the aggregated data 
% to a new file for subsequent analysis.
clc; clear; close all;
subG = {'sub-0001', 'sub-0002', 'sub-0003', 'sub-0004', 'sub-0005', ...
                'sub-0007', 'sub-0008', 'sub-0009', 'sub-0010', 'sub-0011', ...
                'sub-0012', 'sub-0013', 'sub-0014', 'sub-0015', 'sub-0016', ...
                'sub-0017', 'sub-0019', 'sub-0020', 'sub-0021', 'sub-0022', ...
                'sub-0023', 'sub-0028', 'sub-0029', 'sub-0031', 'sub-0033', ...
                'sub-0034', 'sub-0035', 'sub-0036', 'sub-0039', 'sub-0046', ...
                'sub-0047', 'sub-0050', 'sub-0052', 'sub-0054', 'sub-0062', ...
                'sub-0063', 'sub-0066', 'sub-0067', 'sub-0074', 'sub-0077', ...
                'sub-0087', 'sub-0089', 'sub-0092', 'sub-0093', 'sub-0094', ...
                'sub-0113', 'sub-0115'};
for nS = 1:length(subG)
        subID = subG{nS};
        load(fullfile('step3_IEDs', [subID, '_task-awake_ref-TCA_IEDs-diffTD.mat']));
        for nRun = 1:length(IEDs)
                IED6d0{nS}{nRun} = IEDs{nRun}{6};
        end
end
saveFolder = 'step4_IEDtw_polyfit_TD6d0';
saveName = 'IEDs_meth-none_TD-6d0.mat';
save(fullfile(saveFolder, saveName), "IED6d0");